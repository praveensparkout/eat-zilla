<app-header></app-header>

<div>
  <!-- SubHeader =============================================== -->
  <!-- <section class="parallax-window" id="short" data-parallax="scroll" data-image-src="assets/img/sub_header_short.jpg" data-natural-width="1400"
    data-natural-height="350"> -->
  <div id="subheader" style="height:350px;background-image:url('assets/img/sub_header_short.jpg');">
    <div id="sub_content" style="background-color: rgba(0,0,0,.7);height:inherit;width:inherit;animation-name:none">
      <h1>{{hotelCount}} results in your zone</h1>
      <div>
        <!-- <i class="icon_pin"></i> 135 Newtownards Road, Belfast, BT4 1AB -->
      </div>
    </div>
    <!-- End sub_content -->
  </div>
  <!-- End subheader -->
  <!-- </section> -->
  <!-- End section -->
  <!-- End SubHeader ============================================ -->


  <!-- <div class="collapse" id="collapseMap">
    <div id="map" class="map"></div>
  </div> -->
  <!-- End Map -->

  <!-- Content ================================================== -->
  <div class="container margin_60_35">
    <div *ngIf="!nearbyRestaurants" class="row text_center_align">
      <i class="fa fa-spinner fa-spin" style="font-size:36px;color:#57C704"></i>
      <div>Please wait...</div>
    </div>
    <div class="row" *ngIf="nearbyRestaurants">

      <div class="col-md-3">
        <!-- <p>
          <a class="btn_map" data-toggle="collapse" href="#collapseMap" aria-expanded="false" aria-controls="collapseMap">View on map</a>
        </p> -->
        <div id="filters_col">
          <a id="filters_col_bt">Filters
            <!-- <i class="icon-plus-1 pull-right"></i> -->
          </a>
          <div>
            <div class="filter_type">
              <h6>Type</h6>
              <ul>
                <li *ngFor="let foodTypes of food_type">
                  <label *ngIf="foodTypes.food=='All'">
                    <input type="checkbox" class="icheck" checked>
                    <span class="filter_name">{{foodTypes.food}}
                      <small>({{foodTypes.count}})</small>
                    </span>
                  </label>
                </li>
                <li *ngFor="let foodTypes of food_type">
                  <label *ngIf="foodTypes.food!='All'">
                    <input (change)="addFilters($event,foodTypes.food)" type="checkbox" class="icheck">
                    <span class="filter_name">{{foodTypes.food}}
                      <small>({{foodTypes.count}})</small>
                    </span>
                  </label>
                </li>
              </ul>
            </div>
            <div class="filter_type">
              <h6>Rating</h6>
              <ul>
                <li>
                  <label title="5 Rating">
                    <input type="checkbox" (change)="addFilters($event,5)" class="icheck">
                    <span class="rating">
                      <i class="icon_star voted"></i>
                      <i class="icon_star voted"></i>
                      <i class="icon_star voted"></i>
                      <i class="icon_star voted"></i>
                      <i class="icon_star voted"></i>
                    </span>
                  </label>
                </li>
                <li>
                  <label title="4 and Above">
                    <input type="checkbox" (change)="addFilters($event,4)" class="icheck">
                    <span class="rating">
                      <i class="icon_star voted"></i>
                      <i class="icon_star voted"></i>
                      <i class="icon_star voted"></i>
                      <i class="icon_star voted"></i>
                      <i class="icon_star"></i>
                    </span>
                  </label>
                </li>
                <li>
                  <label title="3 and Above">
                    <input type="checkbox" (change)="addFilters($event,3)" class="icheck">
                    <span class="rating">
                      <i class="icon_star voted"></i>
                      <i class="icon_star voted"></i>
                      <i class="icon_star voted"></i>
                      <i class="icon_star"></i>
                      <i class="icon_star"></i>
                    </span>
                  </label>
                </li>
                <li>
                  <label title="2 and Above">
                    <input type="checkbox" (change)="addFilters($event,2)" class="icheck">
                    <span class="rating">
                      <i class="icon_star voted"></i>
                      <i class="icon_star voted"></i>
                      <i class="icon_star"></i>
                      <i class="icon_star"></i>
                      <i class="icon_star"></i>
                    </span>
                  </label>
                </li>
                <li>
                  <label title="1 and Above">
                    <input type="checkbox" (change)="addFilters($event,1)" class="icheck">
                    <span class="rating">
                      <i class="icon_star voted"></i>
                      <i class="icon_star"></i>
                      <i class="icon_star"></i>
                      <i class="icon_star"></i>
                      <i class="icon_star"></i>
                    </span>
                  </label>
                </li>
              </ul>
            </div>
            <!-- <div class="filter_type">
              <h6>Options</h6>
              <ul class="nomargin">
                <li>
                  <label>
                    <input type="checkbox" class="icheck">
                    <span class="filter_name">Delivery</span>
                  </label>
                </li>
                <li>
                  <label>
                    <input type="checkbox" class="icheck">
                    <span class="filter_name">Take Away</span>
                  </label>
                </li>
                <li>
                  <label>
                    <input type="checkbox" class="icheck">
                    <span class="filter_name">Distance 10Km</span>
                  </label>
                </li>
                <li>
                  <label>
                    <input type="checkbox" class="icheck">
                    <span class="filter_name">Distance 5Km</span>
                  </label>
                </li>
              </ul>
            </div> -->
          </div>
          <!--End collapse -->
        </div>
        <!--End filters col-->
      </div>
      <!--End col-md -->

      <div class="col-md-9">

        <div id="tools">
          <div class="row">

            <div class="col-md-3 col-sm-3 col-xs-6">
              <div class="styled-select">
                <select (change)="sortByRanking($event.target.value)" name="sort_rating" id="sort_rating">
                  <option selected>Sort by ranking</option>
                  <option value="0">High to Low</option>
                  <option value="1">Low to High</option>
                </select>
              </div>
            </div>

            <div class="col-md-6 col-sm-6 col-xs-6">
              <input type="text" class="search_text" name="search" [(ngModel)]="searchRestaurant" placeholder="Search Restaurant here...">
            </div>
            <div class="col-md-3 col-sm-3 hidden-xs">
              <div title="grid view" *ngIf="displayGridView">
                <a (click)="gridView()" class="bt_filters cursor_poiter">
                  <i class="icon-th"></i>
                </a>
              </div>
              <div title="list view" *ngIf="displayListView">
                <a (click)="listView()" class="bt_filters cursor_poiter">
                  <i class="icon-list"></i>
                </a>
              </div>
            </div>
          </div>
        </div>

        <div *ngIf="displayGridView">
          <div *ngFor="let restaurant of nearbyRestaurants.restaurants;">

            <div *ngIf="!restaurant.hide && restaurant.name.toLowerCase().includes(searchRestaurant.toLowerCase())" class="strip_list wow fadeIn">
              <div class="ribbon_1">
                Popular
              </div>
              <div class="row">
                <div class="col-md-9 col-sm-9">
                  <div class="desc">
                    <div class="thumb_strip">
                      <a class="cursor_poiter" (click)="redirectToMenuDetail(restaurant.id)">
                        <img src={{restaurant.image}} alt="">
                      </a>
                    </div>
                    <div class="rating" title="{{restaurant.rating}} Rating">
                      <i [ngClass]="{'voted': restaurant.rating >=1}" class="icon_star"></i>
                      <i [ngClass]="{'voted': restaurant.rating >=2}" class="icon_star"></i>
                      <i [ngClass]="{'voted': restaurant.rating >=3}" class="icon_star"></i>
                      <i [ngClass]="{'voted': restaurant.rating >=4}" class="icon_star"></i>
                      <i [ngClass]="{'voted': restaurant.rating >=5}" class="icon_star"></i>(
                      <small>
                        <a>98 reviews</a>
                      </small>)
                    </div>

                    <!-- <i class="icon_star"></i> -->

                    <h3 class="cursor-pointer" (click)="redirectToMenuDetail(restaurant.id)">{{restaurant.name}} </h3>
                    <div class="type">
                      <span *ngFor="let cuisines of restaurant.cuisines;let i = index">
                        {{cuisines.name}}
                        <span *ngIf="(i+1)<(restaurant.cuisines.length)">/</span>
                      </span>
                    </div>
                    <div class="location">
                      {{restaurant.address}} &nbsp;&nbsp;&nbsp;
                      <span class="opening">
                        <span *ngIf="restaurant.is_open">Open Now</span>
                        <span *ngIf="!restaurant.is_open">Closed </span>
                      </span>
                      <br>
                      <b> {{restaurant.travel_time}} &nbsp;&nbsp;&nbsp;${{restaurant.price}}</b>
                    </div>

                  </div>
                </div>
                <div class="col-md-3 col-sm-3">
                  <div class="float_right">
                    <i (click)="updateFavourite(restaurant)" title="favourite" [ngClass]="{'favorite':restaurant.is_favourite}" class="icon-heart"></i>
                  </div>
                  <div class="go_to">
                    <div>
                      <a (click)="redirectToMenuDetail(restaurant.id)" class="btn_1">View Menu</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>


        <div *ngIf="displayListView">
          <div class="row">
            <div *ngFor="let restaurant of nearbyRestaurants.restaurants;">
              <a style="height: 300px !important" *ngIf="!restaurant.hide && restaurant.name.toLowerCase().includes(searchRestaurant.toLowerCase())"
                class="col-md-6 col-sm-6 strip_list grid wow zoomIn">
                <div class="ribbon_1">Popular</div>
                <div class="desc">
                  <div class="float_right">
                    <i (click)="updateFavourite(restaurant)" title="favourite" [ngClass]="{'favorite':restaurant.is_favourite}" class="icon-heart"></i>
                  </div>
                  <div class="thumb_strip">

                    <a class="cursor_poiter" (click)="redirectToMenuDetail(restaurant.id)">
                      <img src={{restaurant.image}}>
                    </a>

                  </div>
                  <div class="rating" title="{{restaurant.rating}} Rating">
                    <i [ngClass]="{'voted': restaurant.rating >=1}" class="icon_star"></i>
                    <i [ngClass]="{'voted': restaurant.rating >=2}" class="icon_star"></i>
                    <i [ngClass]="{'voted': restaurant.rating >=3}" class="icon_star"></i>
                    <i [ngClass]="{'voted': restaurant.rating >=4}" class="icon_star"></i>
                    <i [ngClass]="{'voted': restaurant.rating >=5}" class="icon_star"></i>(
                    <small>
                      <a>98 reviews</a>
                    </small>)
                  </div>
                  <h3 (click)="redirectToMenuDetail(restaurant.id)" class="cursor_poiter">{{restaurant.name}}</h3>
                  <div class="type">
                    <span *ngFor="let cuisines of restaurant.cuisines;let i = index">
                      {{cuisines.name}}
                      <span *ngIf="(i+1)<(restaurant.cuisines.length)">/</span>
                    </span>
                  </div>
                  <div class="location">
                    {{restaurant.address}}
                    <br>
                    <span class="opening">
                      <span *ngIf="restaurant.is_open">Open Now</span>
                      <span *ngIf="!restaurant.is_open">Closed </span>
                    </span>
                    <b>&nbsp;&nbsp;&nbsp; {{restaurant.travel_time}} &nbsp;&nbsp;&nbsp;${{restaurant.price}}</b>
                  </div>

                </div>
              </a>
              <!-- End strip_list-->
            </div>
          </div>
          <!-- End row-->
        </div>


      </div>
      <!-- End col-md-9-->



    </div>
    <!-- End row -->
  </div>
  <!-- End container -->
  <!-- End Content =============================================== -->
</div>



<app-footer></app-footer>